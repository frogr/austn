<% content_for :title do %>TTS Audio - austn.net<% end %>

<% content_for :head do %>
  <!-- OpenGraph meta tags for social embeds -->
  <meta property="og:title" content="TTS Audio - austn.net" />
  <meta property="og:description" content="<%= truncate(@share.text, length: 200) %>" />
  <meta property="og:type" content="music.song" />
  <meta property="og:url" content="<%= request.original_url %>" />
  <meta property="og:audio" content="<%= tts_share_audio_url(@share.token) %>" />
  <meta property="og:audio:type" content="audio/wav" />
  <meta property="og:site_name" content="austn.net" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="player" />
  <meta name="twitter:title" content="TTS Audio - austn.net" />
  <meta name="twitter:description" content="<%= truncate(@share.text, length: 200) %>" />
  <meta name="twitter:player" content="<%= tts_share_embed_url(@share.token) %>" />
  <meta name="twitter:player:width" content="480" />
  <meta name="twitter:player:height" content="120" />
<% end %>

<div class="container mx-auto px-4 py-8">
  <div class="max-w-2xl mx-auto">
    <div class="text-center mb-8">
      <h1 class="font-black mb-2" style="font-size: clamp(2rem, 4vw, 3rem); color: var(--text-primary); letter-spacing: -0.03em;">
        Shared TTS Audio
      </h1>
      <p class="text-gray-400 text-sm">
        Expires <%= distance_of_time_in_words_to_now(@share.expires_at) %> from now
      </p>
    </div>

    <div class="rounded-lg p-6" style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08);">
      <p class="text-white text-lg mb-4" style="word-break: break-word;">
        "<%= @share.text %>"
      </p>

      <% if @share.duration %>
        <p class="text-gray-400 text-sm mb-4">Duration: <%= @share.duration.round(1) %>s</p>
      <% end %>

      <div class="mb-4">
        <audio controls class="w-full" preload="auto">
          <source src="<%= tts_share_audio_path(@share.token) %>" type="audio/wav">
          Your browser does not support the audio element.
        </audio>
      </div>

      <div class="text-center">
        <a href="/tts" class="inline-block font-semibold py-2 px-6 rounded transition duration-200" style="background: linear-gradient(45deg, #10b981, #059669); color: #fff;">
          Create Your Own
        </a>
      </div>
    </div>
  </div>
</div>
