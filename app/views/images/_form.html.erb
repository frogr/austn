<%= form_with(model: image) do |form| %>
  <% if image.errors.any? %>
    <div class="mb-4 p-3 rounded" style="background: rgba(255,59,48,0.15); border: 1px solid rgba(255,59,48,0.3);">
      <h3 class="text-sm font-medium mb-2" style="color: rgba(255,255,255,0.9);">
        <%= pluralize(image.errors.count, "error") %> prevented saving:
      </h3>
      <ul class="list-disc list-inside text-sm" style="color: rgba(255,255,255,0.7);">
        <% image.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="space-y-4">
    <div>
      <%= form.label :title, class: "block text-sm font-medium mb-2", style: "color: rgba(255,255,255,0.7);" %>
      <%= form.text_field :title,
                          class: "w-full px-3 py-2 rounded text-white focus:outline-none",
                          style: "background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);",
                          placeholder: "Image title" %>
    </div>

    <div>
      <%= form.label :description, class: "block text-sm font-medium mb-2", style: "color: rgba(255,255,255,0.7);" %>
      <%= form.text_area :description,
                         rows: 3,
                         class: "w-full px-3 py-2 rounded text-white focus:outline-none resize-none",
                         style: "background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);",
                         placeholder: "Description (optional)" %>
    </div>

    <div>
      <%= form.label :file, "Image File", class: "block text-sm font-medium mb-2", style: "color: rgba(255,255,255,0.7);" %>
      <%= form.file_field :file,
                          class: "w-full px-3 py-2 rounded text-white",
                          style: "background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);",
                          accept: "image/*" %>
      <% if image.file.attached? %>
        <div class="mt-2">
          <p class="text-xs mb-2" style="color: rgba(255,255,255,0.5);">Current:</p>
          <%= image_tag image.file.variant(resize_to_limit: [200, 200]),
                        class: "rounded",
                        style: "border: 1px solid rgba(255,255,255,0.1);" %>
        </div>
      <% end %>
    </div>

    <div class="grid grid-cols-2 gap-4">
      <div>
        <%= form.label :position, class: "block text-sm font-medium mb-2", style: "color: rgba(255,255,255,0.7);" %>
        <%= form.number_field :position,
                              class: "w-full px-3 py-2 rounded text-white focus:outline-none",
                              style: "background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);",
                              placeholder: "0" %>
      </div>

      <div>
        <label class="block text-sm font-medium mb-2" style="color: rgba(255,255,255,0.7);">Status</label>
        <div class="flex items-center mt-3">
          <%= form.check_box :published,
                             class: "mr-2 rounded",
                             style: "background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.2);" %>
          <%= form.label :published, "Published", class: "text-sm", style: "color: rgba(255,255,255,0.7);" %>
        </div>
      </div>
    </div>

    <div class="flex gap-2 pt-2">
      <%= form.submit class: "px-4 py-2 rounded font-medium transition-all hover:opacity-90 cursor-pointer",
                      style: "background: var(--accent-color); color: #000;" %>
      <%= link_to "Cancel", images_path,
                  class: "px-4 py-2 rounded font-medium transition-all hover:opacity-90",
                  style: "background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.1); color: rgba(255,255,255,0.9);" %>
    </div>
  </div>
<% end %>