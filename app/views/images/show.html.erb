<% content_for :title, @image.title %>

<div class="container mx-auto px-4 py-8 max-w-4xl">
  <div class="mb-4">
    <%= link_to "← Back", images_path,
                style: "color: rgba(255,255,255,0.6); font-size: 0.875rem;" %>
  </div>

  <div class="rounded overflow-hidden"
       style="background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08);">
    <% if @image.file.attached? %>
      <div class="w-full">
        <%= image_tag @image.file, class: "w-full h-auto", loading: "lazy" %>
      </div>
    <% end %>

    <div class="p-6">
      <h1 class="text-2xl font-bold text-white mb-3"><%= @image.title %></h1>

      <% if @image.description.present? %>
        <p class="text-sm mb-4" style="color: rgba(255,255,255,0.8); line-height: 1.6;">
          <%= simple_format(@image.description) %>
        </p>
      <% end %>

      <div class="flex items-center gap-4 text-xs mb-6" style="color: rgba(255,255,255,0.5);">
        <span>Position: <%= @image.position || "Not set" %></span>
        <span class="<%= @image.published? ? 'text-green-400' : '' %>">
          <%= @image.published? ? "Published" : "Draft" %>
        </span>
        <span><%= @image.created_at.strftime("%B %d, %Y") %></span>
      </div>

      <div class="flex gap-2">
        <%= link_to "Edit", edit_image_path(@image),
                    class: "px-3 py-1.5 text-sm font-medium rounded transition-all hover:opacity-90",
                    style: "background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.1); color: rgba(255,255,255,0.9);" %>
        <%= link_to "Delete", image_path(@image),
                    method: :delete,
                    data: { "turbo-method": :delete, "turbo-confirm": "Delete this image?" },
                    class: "px-3 py-1.5 text-sm font-medium rounded transition-all hover:opacity-90",
                    style: "background: rgba(255,59,48,0.15); border: 1px solid rgba(255,59,48,0.3); color: rgba(255,255,255,0.9);" %>
      </div>
    </div>
  </div>
</div>